(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0ba9"],{"68e6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CRow",{staticClass:"animated fadeIn"},[n("CCol",{attrs:{cols:"12"}},[n("CCard",{attrs:{"no-header":""}},[n("CCardHeader",[n("h3",{staticClass:"card-title"},[t._v("New Fund")])]),n("CCardBody",[n("CForm",[n("CRow",[n("CCol",{attrs:{xl:"5",lg:"12",md:"12",sm:"12",xs:"12"}},[n("CInput",{staticClass:"mb-0",attrs:{type:"text",placeholder:"Enter Fund ISIN..",required:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("CButton",{attrs:{color:"dark",disabled:""}},[t._v("Fund ISIN")])]},proxy:!0},{key:"append",fn:function(){return[n("CButton",{attrs:{color:"dark",disabled:""}},[n("CIcon",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip.hover.html",value:"<strong>Insert a valid ISIN of Fund.</strong>",expression:"\n                        '<strong>Insert a valid ISIN of Fund.</strong>'\n                      ",modifiers:{hover:!0,html:!0}}],attrs:{name:t.classisinCode}})],1)]},proxy:!0}]),model:{value:t.isinCode,callback:function(e){t.isinCode=e},expression:"isinCode"}})],1),n("CCol",{attrs:{xl:"7",lg:"12",md:"12",sm:"12",xs:"12"}},[n("CInput",{staticClass:"mb-0",attrs:{type:"text",placeholder:"Enter Fund Name..",required:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("CButton",{attrs:{color:"dark",disabled:""}},[t._v("Fund Name")])]},proxy:!0},{key:"append",fn:function(){return[n("CButton",{attrs:{color:"dark",disabled:""}},[n("CIcon",{directives:[{name:"c-tooltip",rawName:"v-c-tooltip.hover.html",value:"<strong>Insert a valid fund name.</strong>",expression:"\n                        '<strong>Insert a valid fund name.</strong>'\n                      ",modifiers:{hover:!0,html:!0}}],attrs:{name:t.classisinName}})],1)]},proxy:!0}]),model:{value:t.isinName,callback:function(e){t.isinName=e},expression:"isinName"}})],1)],1)],1)],1),n("CCardFooter",[n("CRow",[n("CCol",{attrs:{cols:"6"}},[n("CButton",{attrs:{block:"",variant:"outline",color:"primary"},on:{click:t.goBack}},[n("CIcon",{attrs:{name:"cil-account-logout"}}),t._v(" Back ")],1)],1),n("CCol",{attrs:{cols:"6"}},[n("CButton",{staticClass:"mb-3",attrs:{block:"",color:"success",variant:"outline"},on:{click:t.saveFund}},[n("CIcon",{attrs:{name:"cil-save"}}),t._v(" Save Fund ")],1)],1)],1)],1)],1)],1)],1)},o=[],s=n("9be8"),a={name:"Fund",data:function(){return{isin:"New Fund",isinCode:"",isinCodeCheck:!1,classisinCode:"cil-x",isinName:"",isinNameCheck:!1,classisinName:"cil-x",utils:s["a"]}},methods:{goBack:function(){this.$router.go(-1),this.$router.replace({path:"/funds"})},saveFund:function(){if(!this.isinCodeCheck||!this.isinNameCheck)return this.$notify({group:"notification",title:"Error",text:"Check all fields.",type:"danger",position:"top center"});var t={isin:this.isinCode,name:this.isinName,idFundmorningstar:""};this.$loading.show(),this.$http.post(s["a"].geturl()+"/api/funds/fund",t).then((function(t){var e=t.data;console.log("save",e),!0===e.status?(this.$notify({group:"notification",title:"New fund created.",text:e.data,type:"info",position:"top center"}),this.$router.push("/funds")):this.$notify({group:"notification",title:"New fund existes.",type:"warning",text:"The fund '"+e.data.name+"' exists in database.",position:"top center"}),this.$loading.hide()})).catch((function(t){t&&401===t.status?(this.$router.push("/login"),localStorage.removeItem("user"),this.$notify({group:"notification",title:"Login Error.",type:"danger",text:t.body.data,position:"top center"})):this.$notify({group:"notification",title:"Post fund error.",type:"danger",text:"Error "+t,position:"top center"}),this.$loading.hide()}))}},watch:{isinCode:function(t){var e="";this.isinCodeCheck=!1,t.trim().length>9?(e="check-alt",this.isinCodeCheck=!0):e="x",this.classisinCode="cil-"+e},isinName:function(t){var e="";this.isinNameCheck=!1,t.trim().length>4?(e="check-alt",this.isinNameCheck=!0):e="x",this.classisinName="cil-"+e}}},r=a,c=n("2877"),l=Object(c["a"])(r,i,o,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0d0ba9.65747dba.js.map