{"version":3,"sources":["webpack:///./src/views/Users/Login.vue?f2b9","webpack:///src/views/Users/Login.vue","webpack:///./src/views/Users/Login.vue?ebb0","webpack:///./src/views/Users/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","scopedSlots","_u","key","fn","proxy","on","$event","type","indexOf","_k","keyCode","login","register","staticRenderFns","name","data","utils","methods","email","document","getElementsByName","value","password","window","btoa","trim","length","$notify","group","title","text","position","$http","$router","push","component"],"mappings":"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","file":"js/chunk-2d0d6570.12b7a088.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CContainer',{staticClass:\"min-vh-100 d-flex align-items-center\"},[_c('CRow',{staticClass:\"w-100 justify-content-center\"},[_c('CCol',{attrs:{\"md\":\"8\",\"sm\":\"12\"}},[_c('CCard',{staticClass:\"mx-4 mb-4\"},[_c('CCardBody',{staticClass:\"p-4\"},[_c('CForm',[_c('h1',[_vm._v(\"Login\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Sign In to your account\")]),_c('CInput',{staticClass:\"user-mail\",attrs:{\"type\":\"text\",\"placeholder\":\"Email\",\"autocomplete\":\"username email\",\"name\":\"email\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"dark\",\"disabled\":\"\"}},[_c('CIcon',{attrs:{\"name\":\"cil-at\"}})],1)]},proxy:true}])}),_c('CInput',{staticClass:\"user-pass\",attrs:{\"placeholder\":\"Password\",\"type\":\"password\",\"autocomplete\":\"curent-password\",\"name\":\"password\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login()}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"dark\",\"disabled\":\"\"}},[_c('CIcon',{attrs:{\"name\":\"cil-lock-locked\"}})],1)]},proxy:true}])}),_c('CRow',[_c('CCol',{attrs:{\"col\":\"12\"}},[_c('CButton',{attrs:{\"variant\":\"outline\",\"color\":\"success\",\"block\":\"\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"Login\")])],1)],1)],1)],1),_c('CCardFooter',{staticClass:\"p-4\"},[_c('CRow',[_c('CCol',{attrs:{\"col\":\"12\"}},[_c('CButton',{attrs:{\"variant\":\"outline\",\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\" Register Now!\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <CContainer class=\"min-vh-100 d-flex align-items-center\">\r\n    <CRow class=\"w-100 justify-content-center\">\r\n      <CCol md=\"8\" sm=\"12\">\r\n        <CCard class=\"mx-4 mb-4\">\r\n          <CCardBody class=\"p-4\">\r\n            <CForm>\r\n              <h1>Login</h1>\r\n              <p class=\"text-muted\">Sign In to your account</p>\r\n              <CInput\r\n                type=\"text\"\r\n                placeholder=\"Email\"\r\n                class=\"user-mail\"\r\n                autocomplete=\"username email\"\r\n                name=\"email\"\r\n              >\r\n                <template #prepend>\r\n                  <CButton color=\"dark\" disabled\r\n                    ><CIcon name=\"cil-at\"\r\n                  /></CButton>\r\n                </template>\r\n              </CInput>\r\n              <CInput\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                class=\"user-pass\"\r\n                @keyup.enter=\"login()\"\r\n                autocomplete=\"curent-password\"\r\n                name=\"password\"\r\n              >\r\n                <template #prepend>\r\n                  <CButton color=\"dark\" disabled\r\n                    ><CIcon name=\"cil-lock-locked\"\r\n                  /></CButton>\r\n                </template>\r\n              </CInput>\r\n              <CRow>\r\n                <CCol col=\"12\">\r\n                  <CButton\r\n                    variant=\"outline\"\r\n                    color=\"success\"\r\n                    block\r\n                    v-on:click=\"login()\"\r\n                    >Login</CButton\r\n                  >\r\n                </CCol>\r\n              </CRow>\r\n            </CForm>\r\n          </CCardBody>\r\n          <CCardFooter class=\"p-4\">\r\n            <CRow>\r\n              <CCol col=\"12\">\r\n                <CButton\r\n                  variant=\"outline\"\r\n                  color=\"primary\"\r\n                  block\r\n                  v-on:click=\"register()\"\r\n                >\r\n                  Register Now!</CButton\r\n                >\r\n              </CCol>\r\n            </CRow>\r\n          </CCardFooter>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  </CContainer>\r\n</template>\r\n<script>\r\nimport utils from \"./../../shared/utilsLib.js\";\r\nexport default {\r\n  name: \"Login\",\r\n  data: function() {\r\n    return {\r\n      utils\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      let data = {\r\n        email: document.getElementsByName(\"email\")[0].value,\r\n        password: window.btoa(\r\n          unescape(\r\n            encodeURIComponent(document.getElementsByName(\"password\")[0].value)\r\n          )\r\n        )\r\n      };\r\n      if (data.email.trim().length === 0 || data.password.trim().length === 0) {\r\n        return this.$notify({\r\n          group: \"notification\",\r\n          title: \"Error\",\r\n          text: \"Insert valid email and password to login.\",\r\n          type: \"danger\",\r\n          position: \"top center\"\r\n        });\r\n      }\r\n      this.$http\r\n        .post(utils.geturl() + \"/api/login\", data)\r\n        .then(response => {\r\n          let data = response.data;\r\n          if (data.status === true) {\r\n            console.log(\"Logged in\");\r\n            this.$notify({\r\n              group: \"notification\",\r\n              title: \"Login Success\",\r\n              text: \"Welcome \" + data.data.name,\r\n              type: \"success\",\r\n              position: \"top center\"\r\n            });\r\n            localStorage.setItem(\"user\", JSON.stringify(data));\r\n            this.$router.push(\"/home\");\r\n          } else {\r\n            console.log(\"Logged Error\");\r\n            this.$notify({\r\n              group: \"notification\",\r\n              title: \"Login Error\",\r\n              text: data.data,\r\n              type: \"danger\",\r\n              position: \"top center\"\r\n            });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err.toString());\r\n          if (err && err.status === 401) {\r\n            this.$router.push(\"/login\");\r\n            localStorage.removeItem(\"user\");\r\n            this.$notify({\r\n              group: \"notification\",\r\n              title: \"Login Error.\",\r\n              type: \"danger\",\r\n              text: err.body.data,\r\n              position: \"top center\"\r\n            });\r\n          } else {\r\n            this.$notify({\r\n              group: \"notification\",\r\n              title: \"Login error.\",\r\n              type: \"danger\",\r\n              text: \"Error \" + err,\r\n              position: \"top center\"\r\n            });\r\n          }\r\n        });\r\n    },\r\n    register() {\r\n      this.$router.push(\"/register\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=ef139ab0&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}